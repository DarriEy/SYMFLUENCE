# =============================================================================
# Base configuration for Section 4.11 Parallel Scaling Study
# HBV model on Bow River at Banff (lumped) with DDS calibration
# This file serves as the template; generate_configs.py creates variants
# =============================================================================

# --- Environment paths ---
SYMFLUENCE_DATA_DIR: /Users/darrieythorsson/compHydro/code/SYMFLUENCE_data/
SYMFLUENCE_CODE_DIR: /Users/darrieythorsson/compHydro/code/SYMFLUENCE

# --- Domain definition ---
DOMAIN_NAME: Bow_at_Banff_lumped_era5
POUR_POINT_COORDS: 51.1722/-115.5717
BOUNDING_BOX_COORDS: 51.76/-116.55/50.95/-115.5
DOMAIN_DEFINITION_METHOD: lumped
SUB_GRID_DISCRETIZATION: lumped
DOMAIN_DISCRETIZATION: GRUs
ROUTING_DELINEATION: lumped
GEOFABRIC_TYPE: TDX
STREAM_THRESHOLD: 10000
LUMPED_WATERSHED_METHOD: TauDEM

# --- Time periods ---
EXPERIMENT_TIME_START: 2002-01-01 01:00
EXPERIMENT_TIME_END: 2009-12-31 23:00
CALIBRATION_PERIOD: 2004-01-01, 2007-12-31
EVALUATION_PERIOD: 2008-01-01, 2009-12-31
SPINUP_PERIOD: 2002-01-01, 2003-12-31

# --- Forcing ---
FORCING_DATASET: ERA5
FORCING_VARIABLES: default
FORCING_MEASUREMENT_HEIGHT: 2
FORCING_TIME_STEP_SIZE: 3600

# --- Model ---
HYDROLOGICAL_MODEL: HBV
ROUTING_MODEL: none
HBV_TIMESTEP_HOURS: 24
HBV_WARMUP_DAYS: 365
HBV_BACKEND: jax
HBV_SMOOTHING: false
HBV_SMOOTHING_FACTOR: 15.0

# --- Observations ---
STREAMFLOW_DATA_PROVIDER: WSC
STATION_ID: 05BB001
DOWNLOAD_WSC_DATA: true

# --- Calibration ---
OPTIMIZATION_METHODS:
- iteration
OPTIMIZATION_METRIC: KGE
TARGET_METRIC: KGE
ITERATIVE_OPTIMIZATION_ALGORITHM: DDS
NUMBER_OF_ITERATIONS: 1000
DDS_R: 0.2
RANDOM_SEED: 42

# --- Parallelism (defaults -- overridden per experiment) ---
NUM_PROCESSES: 1
MPI_PROCESSES: 1

# --- Experiment ---
EXPERIMENT_ID: scaling_base
FORCE_RUN_ALL_STEPS: false
