### ============================================= SYMFLUENCE configuration file ============================================================
# Wolverine Glacier Domain - Multi-variate Calibration (TWS + Streamflow)
# Uses Ashley's glacier SUMMA binary with full glacier dynamics

# Global and Logging Settings
SYMFLUENCE_DATA_DIR: "/Users/darrieythorsson/compHydro/code/SYMFLUENCE_data"
SYMFLUENCE_CODE_DIR: "/Users/darrieythorsson/compHydro/code/SYMFLUENCE"
DOMAIN_NAME: "Wolverine"
EXPERIMENT_ID: glacier_cal_test
EXPERIMENT_TIME_START: 2008-01-01 00:00
EXPERIMENT_TIME_END: 2010-12-31 23:00
NUM_PROCESSES: 1
LOG_LEVEL: INFO
LOG_TO_FILE: True
LOG_FORMAT: detailed

# Geospatial Definition
POUR_POINT_COORDS: 60.36999097/-148.8988085    # WOLVERINE C NR LAWING AK Gage 15236900
BOUNDING_BOX_COORDS: 60.44/-148.97/60.36/-148.85
STREAMFLOW_RAW_NAME: Gage_15236900.txt
DOMAIN_DEFINITION_METHOD: lumped
GEOFABRIC_TYPE: MERIT
SUB_GRID_DISCRETIZATION: elevation
ELEVATION_BAND_SIZE: 400

# Data and Forcings
FORCING_DATASET: ERA5
FORCING_VARIABLES:
  - airtemp
  - windspd
  - pptrate
  - spechum
  - SWRadAtm
  - LWRadAtm
  - airpres
FORCING_TIME_STEP_SIZE: 3600
APPLY_LAPSE_RATE: True
LAPSE_RATE: -6.5

# Model Configuration - Use glacier SUMMA
HYDROLOGICAL_MODEL: SUMMA
ROUTING_MODEL: none
SETTINGS_SUMMA_FILEMANAGER: fileManager_glac.txt
SETTINGS_SUMMA_COLDSTATE: coldState_glac.nc
SETTINGS_SUMMA_ATTRIBUTES: attributes_glac.nc
SETTINGS_SUMMA_TRIALPARAMS: trialParams.nc
SETTINGS_SUMMA_FORCING_LIST: forcingFileList.txt
SETTINGS_SUMMA_GLACIER_MODE: True
SETTINGS_SUMMA_INIT_GRID_FILE: coldState_glacSurfTopo.nc
SETTINGS_SUMMA_ATTRIB_GRID_FILE: attributes_glacBedTopo.nc

# Calibration and Optimization
SPINUP_PERIOD: "2008-01-01,2008-09-30"
CALIBRATION_PERIOD: "2008-10-01,2009-09-30"
EVALUATION_PERIOD: "2009-10-01,2010-09-30"

# Enable optimization
OPTIMIZATION_METHODS:
  - iteration

# Multi-variate NSGA-II Optimization
OPTIMIZATION_ALGORITHM: NSGA-II
NSGA2_MULTI_TARGET: True
OPTIMIZATION_TARGET: streamflow
OPTIMIZATION_TARGET2: stor_grace
OPTIMIZATION_METRIC: NSE
OPTIMIZATION_METRIC2: KGE

# Parameters to calibrate - glacier and snow parameters
BASIN_PARAMS_TO_CALIBRATE: glacStor_kIce, glacStor_kSnow, glacStor_kFirn
PARAMS_TO_CALIBRATE: newSnowDenMin,Fcapil,k_soil,k_macropore,tempCritRain,tempRangeTimestep,frozenPrecipMultip,albedoMax,albedoMinWinter,k_snow

# Reduced iterations for testing
NUMBER_OF_ITERATIONS: 3
POPULATION_SIZE: 6

# Paths and Resources - Use glacier SUMMA
SUMMA_INSTALL_PATH: /Users/darrieythorsson/compHydro/code/SYMFLUENCE_data/installs/summa_glacier/bin
SUMMA_EXE: summa.exe
